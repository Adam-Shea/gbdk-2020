\hypertarget{docs_rombanking_mbcs_autotoc_md73}{}\doxysubsection{R\+O\+M/\+R\+A\+M Banking and M\+B\+Cs (\+Memory Bank Controllers)}\label{docs_rombanking_mbcs_autotoc_md73}
The standard Game Boy cartridge with no M\+BC has a fixed 32K bytes of R\+OM. In order to make cartridges with larger R\+OM sizes (to store more code and graphics) M\+B\+Cs can be used. They allow switching between multiple R\+OM banks that use the same memory region. Only one of the banks can be selected as active at a given time, while all the other banks are inactive (and so, inaccessible).\hypertarget{docs_rombanking_mbcs_autotoc_md74}{}\doxysubsubsection{Non-\/banked cartridges}\label{docs_rombanking_mbcs_autotoc_md74}
Cartridges with no M\+BC controller are non-\/banked, they have 32K bytes of fixed R\+OM space and no switchable banks. For these cartridges the R\+OM space between {\ttfamily 0000h and 7F\+F\+Fh} can be treated as a single large bank of 32K bytes, or as two contiguous banks of 16K bytes in Bank 0 at {\ttfamily 0000h -\/ 3F\+F\+Fh} and Bank 1 at {\ttfamily 4000h to 7F\+F\+Fh}.\hypertarget{docs_rombanking_mbcs_autotoc_md75}{}\doxysubsubsection{M\+B\+C Banked cartridges (\+Memory Bank Controllers)}\label{docs_rombanking_mbcs_autotoc_md75}
\label{docs_rombanking_mbcs_MBC}%
\Hypertarget{docs_rombanking_mbcs_MBC}%
\label{docs_rombanking_mbcs_MBCS}%
\Hypertarget{docs_rombanking_mbcs_MBCS}%
Cartridges with M\+B\+Cs allow the the Game Boy to work with R\+O\+MS up to 8MB in size and with R\+AM up to 128kB. Each bank is 16K Bytes.
\begin{DoxyItemize}
\item Bank 0 of the R\+OM is located in the region at {\ttfamily 0000h -\/ 3F\+F\+Fh}. It is {\itshape usually} fixed (non-\/banked) and cannot be switched out for another bank.
\item The higher region at {\ttfamily 4000h to 7F\+F\+Fh} is used for switching between different R\+OM banks.
\end{DoxyItemize}

See the \mbox{\hyperlink{docs_links_and_tools_Pandocs}{Pandocs}} for more details about the individual M\+B\+Cs and their capabilities.\hypertarget{docs_rombanking_mbcs_autotoc_md76}{}\doxysubsection{Working with Banks}\label{docs_rombanking_mbcs_autotoc_md76}
To assign code and constant data (such as graphics) to a R\+OM bank and use it\+:
\begin{DoxyItemize}
\item Place the code for your R\+OM bank in one or several source files.
\item Specify the R\+OM bank to use, either in the source file or at compile/link time.
\item Specify the number of banks and M\+BC type during link time.
\item When the program is running and wants to use data or call a function that is in a given bank, manually or automatically set the desired bank to active.
\end{DoxyItemize}\hypertarget{docs_rombanking_mbcs_autotoc_md77}{}\doxysubsubsection{Setting the R\+O\+M bank for a Source file}\label{docs_rombanking_mbcs_autotoc_md77}
The R\+OM and R\+AM bank for a source file can be set in a couple different ways. Multiple different banks cannot be assigned inside the same source file (unless the {\ttfamily \+\_\+\+\_\+addressmod} method is used), but multiple source files can share the same bank.

If no R\+OM and R\+AM bank are speciied for a file then the default \+\_\+\+C\+O\+DE, \+\_\+\+B\+SS and \+\_\+\+D\+A\+TA segments are used.

Ways to set the R\+OM bank for a Source file
\begin{DoxyItemize}
\item {\ttfamily \#pragma bank $<$N$>$} at the start of a source file. Example (R\+OM bank 2)\+: {\ttfamily \#pragma bank 2}
\item The lcc switch for R\+OM bank {\ttfamily -\/Wf-\/bo$<$N$>$}. Example (R\+OM bank 2)\+: {\ttfamily -\/Wf-\/bo2}
\item Using \mbox{\hyperlink{docs_rombanking_mbcs_rom_autobanking}{rom\+\_\+autobanking}}
\end{DoxyItemize}

Note\+: You can use the {\ttfamily N\+O\+N\+B\+A\+N\+K\+ED} keyword to define a function as non-\/banked if it resides in a source file which has been assigned a bank.\hypertarget{docs_rombanking_mbcs_autotoc_md78}{}\doxysubsubsection{Setting the R\+A\+M bank for a Source file}\label{docs_rombanking_mbcs_autotoc_md78}

\begin{DoxyItemize}
\item Using the lcc switch for R\+AM bank {\ttfamily -\/Wf-\/ba$<$N$>$}. Example (R\+OM bank 3)\+: {\ttfamily -\/Wf-\/bo3}
\end{DoxyItemize}

\label{docs_rombanking_mbcs_setting_mbc_and_rom_ram_banks}%
\Hypertarget{docs_rombanking_mbcs_setting_mbc_and_rom_ram_banks}%
\hypertarget{docs_rombanking_mbcs_autotoc_md79}{}\doxysubsubsection{Setting the M\+B\+C and number of R\+O\+M \& R\+A\+M banks available}\label{docs_rombanking_mbcs_autotoc_md79}
At the link stage this is done with \mbox{\hyperlink{docs_toolchain_lcc}{lcc}} using pass-\/through switches for \mbox{\hyperlink{docs_toolchain_makebin}{makebin}}.
\begin{DoxyItemize}
\item {\ttfamily -\/Wl-\/yo$<$N$>$} where {\ttfamily $<$N$>$} is the number of R\+OM banks. 2, 4, 8, 16, 32, 64, 128, 256, 512
\begin{DoxyItemize}
\item {\ttfamily -\/Wl-\/yoA} may be used for automatic bank size.
\end{DoxyItemize}
\item {\ttfamily -\/Wl-\/ya$<$N$>$} where {\ttfamily $<$N$>$} is the number of R\+AM banks. 2, 4, 8, 16, 32
\item {\ttfamily -\/Wl-\/yt$<$N$>$} where {\ttfamily $<$N$>$} is the type of M\+BC cartridge (see below).
\begin{DoxyItemize}
\item Example\+: {\ttfamily Wl-\/yt0x1A}
\end{DoxyItemize}
\end{DoxyItemize}

The M\+BC settings below are available when using the makebin M\+BC switch.

Additional details available at \href{https://gbdev.io/pandocs/The_Cartridge_Header.html\#0147---cartridge-type}{\texttt{ Pandocs}}


\begin{DoxyCode}{0}
\DoxyCodeLine{\# From Makebin source:}
\DoxyCodeLine{\#}
\DoxyCodeLine{\#-\/Wl-\/yt<NN> where <NN> is one of the numbers below}
\DoxyCodeLine{\#}
\DoxyCodeLine{\# 0147: Cartridge type:}
\DoxyCodeLine{\# 0-\/ROM ONLY            12-\/ROM+MBC3+RAM}
\DoxyCodeLine{\# 1-\/ROM+MBC1            13-\/ROM+MBC3+RAM+BATT}
\DoxyCodeLine{\# 2-\/ROM+MBC1+RAM        19-\/ROM+MBC5}
\DoxyCodeLine{\# 3-\/ROM+MBC1+RAM+BATT   1A-\/ROM+MBC5+RAM}
\DoxyCodeLine{\# 5-\/ROM+MBC2            1B-\/ROM+MBC5+RAM+BATT}
\DoxyCodeLine{\# 6-\/ROM+MBC2+BATTERY    1C-\/ROM+MBC5+RUMBLE}
\DoxyCodeLine{\# 8-\/ROM+RAM             1D-\/ROM+MBC5+RUMBLE+SRAM}
\DoxyCodeLine{\# 9-\/ROM+RAM+BATTERY     1E-\/ROM+MBC5+RUMBLE+SRAM+BATT}
\DoxyCodeLine{\# B-\/ROM+MMM01           1F-\/Pocket Camera}
\DoxyCodeLine{\# C-\/ROM+MMM01+SRAM      FD-\/Bandai TAMA5}
\DoxyCodeLine{\# D-\/ROM+MMM01+SRAM+BATT FE -\/ Hudson HuC-\/3}
\DoxyCodeLine{\# F-\/ROM+MBC3+TIMER+BATT FF -\/ Hudson HuC-\/1}
\DoxyCodeLine{\# 10-\/ROM+MBC3+TIMER+RAM+BATT}
\DoxyCodeLine{\# 11-\/ROM+MBC3}
\end{DoxyCode}
\hypertarget{docs_rombanking_mbcs_autotoc_md80}{}\doxysubsubsection{Getting Bank Numbers}\label{docs_rombanking_mbcs_autotoc_md80}
The bank number for a banked function, variable or source file can be stored and retrieved using the following macros\+:
\begin{DoxyItemize}
\item \mbox{\hyperlink{gb_8h_a086293f2afb4c7945460a4496b20aea3}{B\+A\+N\+K\+R\+E\+F()}}\+: Create a reference for retrieving the bank number of a variable or function
\item \mbox{\hyperlink{gb_8h_a42705001e2b9897f5167b67fb36c69dd}{B\+A\+N\+K()}}\+: Retrieve a bank number using a reference created with \mbox{\hyperlink{gb_8h_a086293f2afb4c7945460a4496b20aea3}{B\+A\+N\+K\+R\+E\+F()}}
\item \mbox{\hyperlink{gb_8h_a261bba55a07b802baf99346feadd9852}{B\+A\+N\+K\+R\+E\+F\+\_\+\+E\+X\+T\+E\+R\+N()}} -\/ Make a \mbox{\hyperlink{gb_8h_a086293f2afb4c7945460a4496b20aea3}{B\+A\+N\+K\+R\+E\+F()}} reference residing in another source file accessible in the current file for use with \mbox{\hyperlink{gb_8h_a42705001e2b9897f5167b67fb36c69dd}{B\+A\+N\+K()}}.
\end{DoxyItemize}\hypertarget{docs_rombanking_mbcs_autotoc_md81}{}\doxysubsubsection{Banking and Functions}\label{docs_rombanking_mbcs_autotoc_md81}
\label{docs_rombanking_mbcs_banked_keywords}%
\Hypertarget{docs_rombanking_mbcs_banked_keywords}%
\hypertarget{docs_rombanking_mbcs_autotoc_md82}{}\doxyparagraph{B\+A\+N\+K\+E\+D/\+N\+O\+N\+B\+A\+N\+K\+E\+D keywords}\label{docs_rombanking_mbcs_autotoc_md82}

\begin{DoxyItemize}
\item {\ttfamily B\+A\+N\+K\+ED}\+:
\begin{DoxyItemize}
\item The function will use banked sdcc calls
\item Placed in the bank selected by it\textquotesingle{}s source file (or compiler switches)
\end{DoxyItemize}
\item {\ttfamily N\+O\+N\+B\+A\+N\+K\+ED}\+:
\begin{DoxyItemize}
\item Placed in the non-\/banked lower 16K region (bank 0), regardless of the bank selected by it\textquotesingle{}s source file.
\end{DoxyItemize}
\item {\ttfamily $<$not-\/specified$>$}\+:
\begin{DoxyItemize}
\item The function does not use sdcc banked calls ({\ttfamily near} instead of {\ttfamily far})
\item Placed in the bank selected by it\textquotesingle{}s source file (or compiler switches)
\end{DoxyItemize}
\end{DoxyItemize}

\label{docs_rombanking_mbcs_banked_calls}%
\Hypertarget{docs_rombanking_mbcs_banked_calls}%
\hypertarget{docs_rombanking_mbcs_autotoc_md83}{}\doxyparagraph{Banked Function Calls}\label{docs_rombanking_mbcs_autotoc_md83}
Banked functions can be called as follows.
\begin{DoxyItemize}
\item When defined with the {\ttfamily B\+A\+N\+K\+ED} keyword. Example\+: {\ttfamily void my\+\_\+function() B\+A\+N\+K\+ED \{ do stuff \}} in a source file which has had it\textquotesingle{}s bank set (see above).
\item Using \mbox{\hyperlink{docs_rombanking_mbcs_far_pointers}{far\+\_\+pointers}}
\item When defined with an area set up using the {\ttfamily \+\_\+\+\_\+addressmod} keyword (See the {\ttfamily banks\+\_\+new} example project and the S\+D\+CC manual for details)
\item Using \mbox{\hyperlink{gb_8h_a1e22a3b60368bb5f3705d625ac2d09cc}{S\+W\+I\+T\+C\+H\+\_\+\+R\+O\+M()}} (and related functions for other M\+B\+Cs) to manually switch in the required bank and then call the function.
\end{DoxyItemize}

Non-\/banked functions (either in fixed Bank 0, or in an non-\/banked R\+OM with no M\+BC)
\begin{DoxyItemize}
\item May call functions in any bank\+: {\bfseries{Y\+ES}}
\item May use data in any bank\+: {\bfseries{Y\+ES}}
\end{DoxyItemize}

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000004}{Todo}}]Fill in this info for Banked Functions Banked functions (located in a switchable R\+OM bank)
\begin{DoxyItemize}
\item May call functions in any bank\+: ?
\item May use data in any bank\+: {\bfseries{NO}} (may only use data from currently active banks)
\end{DoxyItemize}\end{DoxyRefDesc}


Limitations\+:
\begin{DoxyItemize}
\item S\+D\+CC banked calls and far\+\_\+pointers in G\+B\+DK only save one byte for the R\+OM bank. So, for example, they are limtied to {\bfseries{bank 31}} max for M\+B\+C1 and {\bfseries{bank 255}} max for M\+B\+C5. This is due to the bank switching for those M\+B\+Cs requiring a second, additional write to select the upper bits for more banks (banks 32+ in M\+B\+C1 and banks 256+ in M\+B\+C5).
\end{DoxyItemize}\hypertarget{docs_rombanking_mbcs_autotoc_md84}{}\doxysubsubsection{Const Data (\+Variables in R\+O\+M)}\label{docs_rombanking_mbcs_autotoc_md84}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000005}{Todo}}]Const Data (Variables in R\+OM)\end{DoxyRefDesc}
\hypertarget{docs_rombanking_mbcs_autotoc_md85}{}\doxysubsubsection{Variables in R\+AM}\label{docs_rombanking_mbcs_autotoc_md85}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000006}{Todo}}]Variables in R\+AM\end{DoxyRefDesc}
\hypertarget{docs_rombanking_mbcs_autotoc_md86}{}\doxysubsubsection{Far Pointers}\label{docs_rombanking_mbcs_autotoc_md86}
\label{docs_rombanking_mbcs_far_pointers}%
\Hypertarget{docs_rombanking_mbcs_far_pointers}%
Far pointers include a segment (bank) selector so they are able to point to addresses (functions or data) outside of the current bank (unlike normal pointers which are not bank-\/aware). A set of macros is provided by G\+B\+DK 2020 for working with far pointers.

{\bfseries{Warning\+:}} Do not call the far pointer function macros from inside interrupt routines (I\+S\+Rs). The far pointer function macros use a global variable that would not get restored properly if a function called that way was interrupted by another one called the same way. However, they may be called recursively.

See \mbox{\hyperlink{far__ptr_8h_a7f4ab1893ea392f8bf042a3b97de4730}{F\+A\+R\+\_\+\+C\+A\+LL}}, \mbox{\hyperlink{far__ptr_8h_a0c227677a96f9bf7e84a90922f2f8708}{T\+O\+\_\+\+F\+A\+R\+\_\+\+P\+TR}} and the {\ttfamily banks\+\_\+farptr} example project.\hypertarget{docs_rombanking_mbcs_autotoc_md87}{}\doxysubsubsection{Bank switching}\label{docs_rombanking_mbcs_autotoc_md87}
You can manually switch banks using the \mbox{\hyperlink{gb_8h_a1e22a3b60368bb5f3705d625ac2d09cc}{S\+W\+I\+T\+C\+H\+\_\+\+R\+O\+M()}}, \mbox{\hyperlink{gb_8h_a6e40dcc763efd953181c7400642a9f69}{S\+W\+I\+T\+C\+H\+\_\+\+R\+A\+M()}}, and other related macros. See {\ttfamily banks.\+c} project for an example.

Note\+: You can only do a switch\+\_\+rom\+\_\+bank call from non-\/banked {\ttfamily \+\_\+\+C\+O\+DE} since otherwise you would switch out the code that was executing. Global routines that will be called without an expectation of bank switching should fit within the limited 16k of non-\/banked {\ttfamily \+\_\+\+C\+O\+DE}.\hypertarget{docs_rombanking_mbcs_autotoc_md88}{}\doxysubsubsection{Restoring the current bank (after calling functions which change it without restoring)}\label{docs_rombanking_mbcs_autotoc_md88}
\label{docs_rombanking_mbcs_banking_current_bank}%
\Hypertarget{docs_rombanking_mbcs_banking_current_bank}%
If a function call is made (for example inside an I\+SR) which changes the bank {\itshape without} restoring it, then the \mbox{\hyperlink{gb_8h_a98b848953a95ce2fff6fda643575d74a}{\+\_\+current\+\_\+bank}} variable should be saved and then restored.

For example, {\bfseries{instead}} of this code\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{void vbl\_music\_isr(void)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    // A function which changes the bank and}
\DoxyCodeLine{    // *doesn't* restore it after changing.}
\DoxyCodeLine{    some\_function();}
\DoxyCodeLine{\}}
\end{DoxyCode}


It should be\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{void vbl\_music\_isr(void)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    // Save the current bank}
\DoxyCodeLine{    uint8\_t \_saved\_bank = \_current\_bank;}
\DoxyCodeLine{}
\DoxyCodeLine{    // A function which changes the bank and}
\DoxyCodeLine{    // *doesn't* restore it after changing.}
\DoxyCodeLine{    some\_function();}
\DoxyCodeLine{}
\DoxyCodeLine{    // Now restore the current bank}
\DoxyCodeLine{    SWITCH\_ROM(\_saved\_bank);}
\DoxyCodeLine{\}}
\end{DoxyCode}
\hypertarget{docs_rombanking_mbcs_autotoc_md89}{}\doxysubsubsection{Currently active bank\+: \+\_\+current\+\_\+bank}\label{docs_rombanking_mbcs_autotoc_md89}
The global variable \mbox{\hyperlink{gb_8h_a98b848953a95ce2fff6fda643575d74a}{\+\_\+current\+\_\+bank}} is updated automatically when calling \mbox{\hyperlink{gb_8h_a1e22a3b60368bb5f3705d625ac2d09cc}{S\+W\+I\+T\+C\+H\+\_\+\+R\+O\+M()}}, \mbox{\hyperlink{gb_8h_a19558f5bbc9fea767f945001ae9cd13f}{S\+W\+I\+T\+C\+H\+\_\+\+R\+O\+M\+\_\+\+M\+B\+C1()}} and \mbox{\hyperlink{gb_8h_a92d040284342702026eb19dab59b586e}{S\+W\+I\+T\+C\+H\+\_\+\+R\+O\+M\+\_\+\+M\+B\+C5}}, or when a {\ttfamily B\+A\+N\+K\+ED} function is called.

\label{docs_rombanking_mbcs_rom_autobanking}%
\Hypertarget{docs_rombanking_mbcs_rom_autobanking}%
\hypertarget{docs_rombanking_mbcs_autotoc_md90}{}\doxysubsection{Auto-\/\+Banking}\label{docs_rombanking_mbcs_autotoc_md90}
A R\+OM bank auto-\/assignment feature was added in G\+B\+DK 2020 4.\+0.\+2.

Instead of having to manually specify which bank a source file will reside it, the banks can be assigned automatically to make the best use of space. The bank assignment operates on object files, after compiling/assembling and before linking.

To turn on auto-\/banking, use the {\ttfamily -\/autobank} argument with lcc

For a source example see the {\ttfamily banks\+\_\+autobank} project.

In the source files you want auto-\/banked, do the following\+:
\begin{DoxyItemize}
\item Set the source file to be autobanked {\ttfamily \#pragma bank 255} (this sets the temporary bank to {\ttfamily 255}, which \mbox{\hyperlink{docs_toolchain_bankpack}{bankpack}} then updates when repacking)
\item Create a reference to store the bank number for that source file\+: {\ttfamily B\+A\+N\+K\+R\+EF($<$some-\/bank-\/reference-\/name$>$)}.
\begin{DoxyItemize}
\item More than one {\ttfamily \mbox{\hyperlink{gb_8h_a086293f2afb4c7945460a4496b20aea3}{B\+A\+N\+K\+R\+E\+F()}}} may be created per file, but they should always have unique names.
\end{DoxyItemize}
\end{DoxyItemize}

In the other source files you want to access the banked data from, do the following\+:
\begin{DoxyItemize}
\item Create an extern so the bank reference in another file is accessible\+: {\ttfamily B\+A\+N\+K\+R\+E\+F\+\_\+\+E\+X\+T\+E\+RN($<$some-\/bank-\/reference-\/name$>$)}.
\item Obtain the bank number using {\ttfamily B\+A\+NK($<$some-\/bank-\/reference-\/name$>$)}.
\end{DoxyItemize}

Example\+: level\+\_\+1\+\_\+map.\+c \begin{DoxyVerb}    #pragma bank 255
    BANKREF(level_1_map)
    ...
    const uint8_t level_1_map[] = {... some map data here ...};
\end{DoxyVerb}


Accessing that data\+: main.\+c \begin{DoxyVerb}  BANKREF_EXTERN(level_1_map)
  ...
  SWITCH_ROM( BANK(level_1_map) );
  // Do something with level_1_map[]
\end{DoxyVerb}


Features and Notes\+:
\begin{DoxyItemize}
\item Fixed banked source files can be used in the same project as auto-\/banked source files. The bankpack tool will attempt to pack the auto-\/banked source files as efficiently as possible around the fixed-\/bank ones.
\end{DoxyItemize}

Making sure bankpack checks all files\+:
\begin{DoxyItemize}
\item In order to correctly calculate the bank for all files every time, it is best to use the {\ttfamily -\/ext=} flag and save the auto-\/banked output to a different extension (such as {\ttfamily .rel}) and then pass the modified files to the linker. That way all object files will be processed each time the program is compiled. \begin{DoxyVerb}Recommended: 
.c and .s -> (compiler) .o -> (bankpack) -> .rel -> (linker) ... -> .gb
\end{DoxyVerb}

\item It is important because when bankpack assigns a bank for an autobanked (bank=255) object file (.o) it rewrites the bank and will then no longer see the file as one that needs to be auto-\/banked. That file will then remain in it\textquotesingle{}s previously assigned bank until a source change causes the compiler to rebuild it to an object file again which resets it\textquotesingle{}s bank to 255.
\item For example consider a fixed-\/bank source file growing too large to share a bank with an auto-\/banked source file that was previously assigned to it. To avoid a bank overflow it would be important to have the auto-\/banked file check every time whether it can share that bank or not.
\item See \mbox{\hyperlink{docs_toolchain_bankpack}{bankpack}} for more options and settings
\end{DoxyItemize}\hypertarget{docs_rombanking_mbcs_autotoc_md91}{}\doxysubsection{Errors related to banking (overflow, multiple writes to same location)}\label{docs_rombanking_mbcs_autotoc_md91}
A {\itshape bank overflow} during compile/link time (in \mbox{\hyperlink{docs_toolchain_makebin}{makebin}}) is when more code and data are allocated to a R\+OM bank than it has capacity for. The address for any overflowed data will be incorrect and the data is potentially unreachable since it now resides at the start of a different bank instead of the end of the expected bank.

See the \mbox{\hyperlink{docs_faq_faq_bank_overflow_errors}{F\+AQ entry about bank overflow errors}}.

The current toolchain can only detect and warn (using \mbox{\hyperlink{docs_toolchain_ihxcheck}{ihxcheck}}) when one bank overflows into another bank that has data at its start. It cannot warn if a bank overflows into an empty one. For more complete detection, you can use the third-\/party \mbox{\hyperlink{docs_links_and_tools_romusage}{romusage}} tool.\hypertarget{docs_rombanking_mbcs_autotoc_md92}{}\doxysubsection{Bank space usage}\label{docs_rombanking_mbcs_autotoc_md92}
In order to see how much space is used or remains available in a bank, you can use the third-\/party \mbox{\hyperlink{docs_links_and_tools_romusage}{romusage}} tool.\hypertarget{docs_rombanking_mbcs_autotoc_md93}{}\doxysubsubsection{Other important notes}\label{docs_rombanking_mbcs_autotoc_md93}

\begin{DoxyItemize}
\item The \mbox{\hyperlink{gb_8h_a92d040284342702026eb19dab59b586e}{S\+W\+I\+T\+C\+H\+\_\+\+R\+O\+M\+\_\+\+M\+B\+C5}} macro is not interrupt-\/safe. If using less than 256 banks you may always use S\+W\+I\+T\+C\+H\+\_\+\+R\+OM -\/ that is faster. Even if you use mbc5 hardware chip in the cart.
\end{DoxyItemize}\hypertarget{docs_rombanking_mbcs_autotoc_md94}{}\doxysubsection{Banking example projects}\label{docs_rombanking_mbcs_autotoc_md94}
There are several projects in the G\+B\+DK 2020 examples folder which demonstrate different ways to use banking.
\begin{DoxyItemize}
\item {\ttfamily Banks}\+: A basic banking example
\item {\ttfamily Banks\+\_\+new}\+: Examples of using new bank assignment and calling conventions available in G\+B\+DK 2020 and it\textquotesingle{}s updated S\+D\+CC version.
\item {\ttfamily Banks\+\_\+farptr}\+: Using far pointers which have the bank number built into the pointer.
\item {\ttfamily Banks\+\_\+autobank}\+: Shows how to use the bank auto-\/assignment feature of in G\+B\+DK 2020 4.\+0.\+2 or later, instead of having to manually specify which bank a source file will reside it. 
\end{DoxyItemize}